/*!
 * smallPop 0.1.2 | https://github.com/silvio-r/spop
 * Copyright (c) 2015 SÃ­lvio Rosa @silvior_
 * MIT license
 */

(function(){"use strict";function l(e,t){return typeof e=="string"?(t||document).getElementById(e):e||null}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var e=390,t,n,r,i,s,o,u,a,f=function(e,r){this.defaults={template:null,style:"info",autoclose:!1,position:"top-right",icon:!0,group:!1,onOpen:!1,onClose:!1},n=h(this.defaults,spop.defaults);if(typeof e=="string"||typeof r=="string")t={template:e,style:r||n.style};else{if(typeof e!="object")return console.error("Invalid arguments."),!1;t=e}this.opt=h(n,t),l("spop--"+this.opt.group)&&this.remove(l("spop--"+this.opt.group)),this.open()};f.prototype.create=function(e){r=l(this.getPosition("spop--",this.opt.position)),i=this.opt.icon?'<i class="spop-icon '+this.getStyle("spop-icon--",this.opt.style)+'"></i>':"",s='<div class="spop-close" data-spop="close" aria-label="Close">&times;</div>'+i+'<div class="spop-body">'+e+"</div>",r||(this.popContainer=document.createElement("div"),this.popContainer.setAttribute("class","spop-container "+this.getPosition("spop--",this.opt.position)),this.popContainer.setAttribute("id",this.getPosition("spop--",this.opt.position)),document.body.appendChild(this.popContainer),r=l(this.getPosition("spop--",this.opt.position))),this.pop=document.createElement("div"),this.pop.setAttribute("class","spop spop--out spop--in "+this.getStyle("spop--",this.opt.style)),this.opt.group&&typeof this.opt.group=="string"&&this.pop.setAttribute("id","spop--"+this.opt.group),this.pop.setAttribute("role","alert"),this.pop.innerHTML=s,r.appendChild(this.pop)},f.prototype.getStyle=function(e,t){return o={success:"success",error:"error",warning:"warning"},e+(o[t]||"info")},f.prototype.getPosition=function(e,t){return u={"top-left":"top-left","top-center":"top-center","top-right":"top-right","bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right"},e+(u[t]||"top-right")},f.prototype.open=function(){this.create(this.opt.template),this.opt.onOpen&&this.opt.onOpen(),this.close()},f.prototype.close=function(){this.opt.autoclose&&typeof this.opt.autoclose=="number"&&(this.autocloseTimer=setTimeout(this.remove.bind(this,this.pop),this.opt.autoclose)),this.pop.addEventListener("click",this.addListeners.bind(this),!1)},f.prototype.addListeners=function(e){a=e.target.getAttribute("data-spop"),a==="close"&&(this.autocloseTimer&&clearTimeout(this.autocloseTimer),this.remove(this.pop))},f.prototype.remove=function(t){this.opt.onClose&&this.opt.onClose(),c(t,"spop--in"),setTimeout(function(){document.body.contains(t)&&t.parentNode.removeChild(t)},e)},window.spop=function(e,t){return!e||!window.addEventListener?!1:new f(e,t)},spop.defaults={}})();